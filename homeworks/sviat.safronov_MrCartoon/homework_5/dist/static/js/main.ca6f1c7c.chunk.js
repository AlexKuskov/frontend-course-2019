(this.webpackJsonpsapper=this.webpackJsonpsapper||[]).push([[0],{132:function(e,t,n){},134:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),l=n(7),i=n.n(l),o=(n(76),n(17)),s=n(18),c=n(20),u=n(19),h=n(21),d=n(54),f=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={cell:e.cell,rowIndex:e.rowIndex,index:e.i,loosingCell:!1},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"renderCell",value:function(){return 0!==this.state.cell[1]?0===this.state.cell[2]?" ":this.state.cell[2]:" "}},{key:"showCell",value:function(){var e=this;this.setState((function(t){var n=t.loosingCell,a=e.props.showCell(e.state.rowIndex,e.state.index,!0);return{loosingCell:null!==a?a:n}}))}},{key:"render",value:function(){return r.a.createElement("td",{className:"".concat(2===this.state.cell[1]&&"opened"," ").concat(this.state.loosingCell&&"loosing-cell"),onClick:this.showCell.bind(this)},r.a.createElement("p",null,this.renderCell(this.state.Row)))}}]),t}(r.a.Component),m=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={cells:e.row,index:e.i},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"renderCells",value:function(){var e=this;return this.state.cells.map((function(t,n){return r.a.createElement(f,{key:"cell-".concat(e.state.index,"-").concat(n),i:n,rowIndex:e.state.index,cell:t,showCell:e.props.showCell})}))}},{key:"render",value:function(){return r.a.createElement("tr",null,this.renderCells())}}]),t}(r.a.Component),p=function(e){function t(e){var n;Object(o.a)(this,t),n=Object(c.a)(this,Object(u.a)(t).call(this,e));var a=Array.from({length:e.size},(function(){return Array.from({length:e.size},(function(){return[Math.round(Math.random()*e.complexity),0,null]}))}));a.forEach((function(e,t){return e.forEach((function(e,r){a[t][r][2]=n.renderCell({cell:e,rowI:t,cellI:r,board:a})}))}));var r=0;return a.forEach((function(e){r+=e.filter((function(e){return 1===e[0]})).length})),n.state={board:a,gameFinished:!1,gameLost:!1,bombsCount:r,openedCount:0},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"renderCell",value:function(e){var t=e.cell,n=e.board,a=e.rowI,r=e.cellI;if(1===t[0])return"*";return[[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1],[0,-1],[1,-1]].map((function(e){return((n[a+e[0]]||[])[r+e[1]]||[])[0]||0})).reduce((function(e,t){return e+t}),0)}},{key:"showCell",value:function(e,t,n,a){var r=this;if(!this.state.gameFinished){var l=(this.state.board[e]||[])[t];if(n)return 1===l[0]?(this.setState((function(e){var t=e.board;return t.forEach((function(e,n){e.forEach((function(e,a){0===t[n][a][1]&&(t[n][a][1]=1)}))})),{board:t,gameFinished:!0,gameLost:!0}})),!0):(this.setState((function(n){var a=n.board,l=n.openedCount,i=n.bombsCount,o=a,s=r.showCell(e,t,!1,[]);return s.forEach((function(e){o[e[0]][e[1]][1]=2})),{board:o,openedCount:l+s.length,gameFinished:Math.pow(r.props.size,2)-i===l+s.length}})),!1);if(!l||l&&(1===l[0]||0!==a.filter((function(n){return n[0]===e&&n[1]===t})).length))return a;var i=a.concat([[e,t]]);return 0===l[2]&&[[1,0],[0,1],[-1,0],[0,-1]].forEach((function(n){i=r.showCell(e+n[0],t+n[1],!1,i)})),i}return null}},{key:"renderRows",value:function(){var e=this;return this.state.board.map((function(t,n){return r.a.createElement(m,{key:"row-".concat(n),i:n,row:t,showCell:e.showCell.bind(e)})}))}},{key:"renderResults",value:function(){return this.state.gameFinished?this.state.gameLost?r.a.createElement("p",null,"You lost!"):r.a.createElement("p",null,"You won"):""}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderResults(),r.a.createElement("table",null,this.renderRows()))}}]),t}(r.a.Component),b=(n(132),n(133),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={complexity:.55,size:20,currentComplexity:0,currentSize:0,play:0},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleComplexity",value:function(e){this.setState((function(){return{complexity:e}}))}},{key:"handleSize",value:function(e){this.setState((function(){return{size:e}}))}},{key:"start",value:function(){this.setState((function(e){return{currentComplexity:e.complexity,currentSize:e.size,play:e.play+1}})),console.log(this.renderBoard())}},{key:"renderBoard",value:function(){return 0!==this.state.play?r.a.createElement(p,{key:"play".concat(this.state.play),size:this.state.currentSize,complexity:this.state.currentComplexity}):""}},{key:"render",value:function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement("p",{className:"slider-label"},"Complexity"),r.a.createElement(d.a,{className:"slider",defaultValue:this.state.complexity,min:.55,max:.65,step:.002,onChange:this.handleComplexity.bind(this)}),r.a.createElement("p",{className:"slider-label"},"Size"),r.a.createElement(d.a,{className:"slider",defaultValue:this.state.size,min:10,max:25,onChange:this.handleSize.bind(this)}),r.a.createElement("button",{onClick:this.start.bind(this)},"Play"),this.renderBoard())}}]),t}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},71:function(e,t,n){e.exports=n(134)},76:function(e,t,n){}},[[71,1,2]]]);
//# sourceMappingURL=main.ca6f1c7c.chunk.js.map